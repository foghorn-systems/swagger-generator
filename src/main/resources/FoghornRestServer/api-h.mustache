#pragma once

include <foghorn/config/config.h>
include <foghorn/config/controllers.h>
include <foghorn/em/api/rest/rest.h>

//TODO  indentation

namespace foghorn {
namespace em {

namespace rest = foghorn::wire::rest;
using Request = foghorn::wire::rest::Request;
using Response = foghorn::wire::rest::Response;

class {{classname}} {
  public:
    {{classname}}Api (config::{{baseName}}Controller* controller);
    void add_handlers (rest::Dispatcher$ rest);

    {{#operations}}
        {{#operation}}
            // ---------------------------------------------------------------------------
            // {{operationId}}
            // {{httpMethod}}
            // {{path}}
            // {{notes}}
            // ---------------------------------------------------------------------------
            void {{operationId}} (const Request& req, Response& res);
        {{/operation}}
    {{/operations}}

  private:
    config::{{baseName}}Controller* controller;
};

}  // em
}  // foghorn
